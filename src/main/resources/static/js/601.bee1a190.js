"use strict";(globalThis["webpackChunkappexamenesf"]=globalThis["webpackChunkappexamenesf"]||[]).push([[601],{601:(e,a,o)=>{o.r(a),o.d(a,{default:()=>C});var t=o(9835);const i={class:"q-pa-md row"},s=(0,t.Uk)(" Guardar"),c={class:"q-pa-md"},l={"q-pa-md":"","q-gutter-sm":""},n=(0,t._)("span",{class:"q-ml-sm"},"¿Estás seguro de borrar este reactivo?",-1);function r(e,a,o,r,d,u){const m=(0,t.up)("q-space"),p=(0,t.up)("q-btn"),v=(0,t.up)("q-table"),h=(0,t.up)("q-avatar"),g=(0,t.up)("q-card-section"),f=(0,t.up)("q-card-actions"),w=(0,t.up)("q-card"),x=(0,t.up)("q-dialog"),R=(0,t.up)("q-page"),b=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(R,null,{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(m),(0,t.Wm)(p,{icon:"add",color:"primary",onClick:a[0]||(a[0]=a=>e.guardarReactivos())},{default:(0,t.w5)((()=>[s])),_:1})]),(0,t._)("div",c,[(0,t.Wm)(v,{title:"Reactivos",rows:e.reactivos,columns:e.columnasReactivos,"row-key":"idReactivo",dense:"",pagination:e.paginacion,"rows-per-page-options":[0],"hide-bottom":"",selection:"multiple",selected:e.seleccionados,"onUpdate:selected":a[1]||(a[1]=a=>e.seleccionados=a)},null,8,["rows","columns","pagination","selected"]),(0,t._)("div",null,[(0,t._)("div",l,[(0,t.Wm)(x,{modelValue:e.confirm,"onUpdate:modelValue":a[3]||(a[3]=a=>e.confirm=a),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{class:"row items-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{icon:"delete",color:"primary","text-color":"white"}),n])),_:1}),(0,t.Wm)(f,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{flat:"",label:"Borrar",color:"primary",onClick:a[2]||(a[2]=a=>e.eliminarConfirmado())}),(0,t.wy)((0,t.Wm)(p,{flat:"",label:"Cancelar"},null,512),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])])),_:1})}o(702);const d=(0,t.aZ)({name:"ReactivosPage",data:function(){return{idExamen:this.$route.params.idex,editando:!1,reactivos:[],seleccion:[],seleccionados:[],expSeleccionada:{id:1,label:"Desarrollo de Software"},exps:[{id:1,label:"Desarrollo de Software"}],confirm:!1,columnasReactivos:[{name:"texto",label:"Pregunta",field:"texto",align:"left"}]}},mounted:function(){this.cargarReactivos()},methods:{cargarReactivos:function(){console.log("cargarReactivos()");const e="reactivo",a="examen-reactivos?idExamen="+this.idExamen;Promise.all([this.$api.get(e),this.$api.get(a)]).then((([{data:e},{data:a}])=>{this.reactivos=e,this.seleccion=a,console.log(this.seleccion),this.seleccion.idsReactivos.forEach((e=>{this.seleccionados.push({idReactivo:e})}))}))},guardarReactivos:function(){console.log("guardarReactivos()");let e=[];this.seleccionados.forEach((a=>{e.push(a.idReactivo)})),this.$api.post("examen-reactivos",{idExamen:this.idExamen,idsReactivos:e}).then((e=>{console.log("POST examen-reactivos exitoso"),this.$router.push("/examenes")})).catch()}}});var u=o(1639),m=o(9885),p=o(136),v=o(4455),h=o(1971),g=o(2074),f=o(4458),w=o(3190),x=o(1357),R=o(1821),b=o(2146),q=o(9984),Z=o.n(q);const _=(0,u.Z)(d,[["render",r]]),C=_;Z()(d,"components",{QPage:m.Z,QSpace:p.Z,QBtn:v.Z,QTable:h.Z,QDialog:g.Z,QCard:f.Z,QCardSection:w.Z,QAvatar:x.Z,QCardActions:R.Z}),Z()(d,"directives",{ClosePopup:b.Z})}}]);