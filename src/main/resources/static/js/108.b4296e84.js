"use strict";(globalThis["webpackChunkappexamenesf"]=globalThis["webpackChunkappexamenesf"]||[]).push([[108],{108:(e,a,o)=>{o.r(a),o.d(a,{default:()=>H});var n=o(9835);const l={class:"q-pa-md row"},t=(0,n.Uk)(" Agregar"),i={class:"q-pa-md"},m={key:0},r={key:1},s={class:"q-pa-md"},d={class:"row items-center justify-end"},c={class:"row items-center justify-end"},u={class:"row items-center justify-end"},p={class:"row items-center justify-end"},x={class:"row"},E=(0,n._)("span",{class:"q-ml-sm"},"¿Estás seguro de borrar este examen?",-1);function f(e,a,o,f,g,h){const w=(0,n.up)("q-space"),v=(0,n.up)("q-btn"),W=(0,n.up)("q-td"),_=(0,n.up)("q-table"),b=(0,n.up)("q-select"),C=(0,n.up)("q-input"),y=(0,n.up)("q-date"),V=(0,n.up)("q-popup-proxy"),k=(0,n.up)("q-icon"),q=(0,n.up)("q-time"),Z=(0,n.up)("q-form"),Q=(0,n.up)("q-card"),Y=(0,n.up)("q-dialog"),A=(0,n.up)("q-avatar"),D=(0,n.up)("q-card-section"),R=(0,n.up)("q-card-actions"),S=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",l,[(0,n.Wm)(w),(0,n.Wm)(v,{icon:"add",color:"primary",onClick:a[0]||(a[0]=a=>e.agregarExamen())},{default:(0,n.w5)((()=>[t])),_:1})]),(0,n._)("div",i,[(0,n.Wm)(_,{title:"Exámenes",rows:e.examenes,columns:e.columnasExamenes,"row-key":"idExamen",dense:"",pagination:e.paginacion,"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-acciones":(0,n.w5)((a=>[(0,n.Wm)(W,{props:a},{default:(0,n.w5)((()=>[a.row.cerrado?((0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(v,{dense:"",round:"",flat:"",color:"grey",to:{path:"calificaciones_examen/"+a.row.idExamen},icon:"pageview",title:"Ver calificaciones"},null,8,["to"])])):((0,n.wg)(),(0,n.iD)("div",m,[(0,n.Wm)(v,{dense:"",round:"",flat:"",color:"grey",to:{path:"seleccion_reactivos/"+a.row.idExamen},icon:"library_add_check",title:"Seleccionar reactivos"},null,8,["to"]),(0,n.Wm)(v,{dense:"",round:"",flat:"",color:"grey",onClick:o=>e.editarExamen(a),icon:"edit",title:"Editar"},null,8,["onClick"]),(0,n.Wm)(v,{dense:"",round:"",flat:"",color:"grey",onClick:o=>e.eliminarExamen(a),icon:"delete",title:"Eliminar"},null,8,["onClick"])]))])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"])]),(0,n.Wm)(Y,{modelValue:e.editando,"onUpdate:modelValue":a[10]||(a[10]=a=>e.editando=a),persistent:"",padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n.Wm)(Z,{style:{"min-width":"480px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{filled:"",modelValue:e.expSeleccionada,"onUpdate:modelValue":a[1]||(a[1]=a=>e.expSeleccionada=a),options:e.exps,label:"Experiencia Educativa",dense:""},null,8,["modelValue","options"]),(0,n.Wm)(C,{filled:"",modelValue:e.nuevoExamen.nombre,"onUpdate:modelValue":a[2]||(a[2]=a=>e.nuevoExamen.nombre=a),label:"Nivel *",dense:"",rules:[e=>e&&e.length>0||"Captura un nivel"]},null,8,["modelValue","rules"]),(0,n.Wm)(C,{filled:"",label:"Abre en *",dense:"",modelValue:e.nuevoExamen.momentoApertura,"onUpdate:modelValue":a[5]||(a[5]=a=>e.nuevoExamen.momentoApertura=a)},{prepend:(0,n.w5)((()=>[(0,n.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:e.nuevoExamen.momentoApertura,"onUpdate:modelValue":a[3]||(a[3]=a=>e.nuevoExamen.momentoApertura=a),mask:"YYYY-MM-DD HH:mm"},{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n.wy)((0,n.Wm)(v,{label:"Close",color:"primary",flat:""},null,512),[[S]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,n.w5)((()=>[(0,n.Wm)(k,{name:"access_time",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{modelValue:e.nuevoExamen.momentoApertura,"onUpdate:modelValue":a[4]||(a[4]=a=>e.nuevoExamen.momentoApertura=a),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:(0,n.w5)((()=>[(0,n._)("div",c,[(0,n.wy)((0,n.Wm)(v,{label:"Close",color:"primary",flat:""},null,512),[[S]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(C,{filled:"",label:"Cierra en *",dense:"",modelValue:e.nuevoExamen.momentoCierre,"onUpdate:modelValue":a[8]||(a[8]=a=>e.nuevoExamen.momentoCierre=a)},{prepend:(0,n.w5)((()=>[(0,n.Wm)(k,{name:"event",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{modelValue:e.nuevoExamen.momentoCierre,"onUpdate:modelValue":a[6]||(a[6]=a=>e.nuevoExamen.momentoCierre=a),mask:"YYYY-MM-DD HH:mm"},{default:(0,n.w5)((()=>[(0,n._)("div",u,[(0,n.wy)((0,n.Wm)(v,{label:"Close",color:"primary",flat:""},null,512),[[S]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,n.w5)((()=>[(0,n.Wm)(k,{name:"access_time",class:"cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{modelValue:e.nuevoExamen.momentoCierre,"onUpdate:modelValue":a[7]||(a[7]=a=>e.nuevoExamen.momentoCierre=a),mask:"YYYY-MM-DD HH:mm",format24h:""},{default:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n.wy)((0,n.Wm)(v,{label:"Close",color:"primary",flat:""},null,512),[[S]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",x,[(0,n.Wm)(v,{label:"Guardar",type:"submit",color:"primary",onClick:a[9]||(a[9]=a=>e.guardarExamen())}),(0,n.Wm)(w),(0,n.wy)((0,n.Wm)(v,{label:"Cancelar",color:"secondary"},null,512),[[S]])])])),_:1})])])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Y,{modelValue:e.confirm,"onUpdate:modelValue":a[12]||(a[12]=a=>e.confirm=a),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(D,{class:"row items-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(A,{icon:"delete",color:"primary","text-color":"white"}),E])),_:1}),(0,n.Wm)(R,{align:"right"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{flat:"",label:"Borrar",color:"primary",onClick:a[11]||(a[11]=a=>e.eliminarConfirmado())}),(0,n.wy)((0,n.Wm)(v,{flat:"",label:"Cancelar"},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}o(8964);const g=(0,n.aZ)({name:"ExamenesPage",data:function(){return{examenes:[],editando:!1,expSeleccionada:{id:1,label:"Desarrollo de Software"},exps:[{id:1,label:"Desarrollo de Software"}],nuevoExamen:{},confirm:!1,columnasExamenes:[{name:"nombre",label:"Nivel",field:"nombre",align:"left"},{name:"apertura",label:"Abre en",field:"momentoApertura",align:"left"},{name:"cierra",label:"Cierra en",field:"momentoCierre",align:"left"},{name:"acciones",label:"Acciones",field:"",align:"center"}],paginacion:{page:1,rowsPerPage:0}}},mounted:function(){this.cargarExamenes()},methods:{cargarExamenes:function(){console.log("cargarExamenes()"),this.$api.get("examen").then((e=>{console.log("GET ejecutado"),this.examenes=e.data})).catch((e=>{console.log("ERROR"),console.log(e)})),console.log("EXAMENES:"+this.examenes)},agregarExamen:function(){console.log("agregarExamen()"),this.editando=!0},guardarExamen:function(){console.log("guardarExamen()"),this.nuevoExamen.idExperienciaEducativa={idExperienciaEducativa:this.expSeleccionada.id},this.nuevoExamen.momentoApertura=this.nuevoExamen.momentoApertura.replace(" ","T"),this.nuevoExamen.momentoCierre=this.nuevoExamen.momentoCierre.replace(" ","T"),this.nuevoExamen.idExamen?this.$api.put("examen/"+this.nuevoExamen.idExamen,this.nuevoExamen).then((e=>{console.log("PUT ejecutado"),this.editando=!1,this.nuevoExamen={},this.cargarExamenes()})).catch((e=>{console.log("ERROR actualizando examen"),console.log(e)})):this.$api.post("examen",this.nuevoExamen).then((e=>{console.log("POST ejecutado"),this.editando=!1,this.nuevoExamen={},this.cargarExamenes()})).catch((e=>{console.log("ERROR guardando examen"),console.log(e)}))},editarExamen:function(e){console.log("editarExamen()"),this.nuevoExamen=e.row,this.editando=!0},eliminarExamen:function(e){console.log("elimarExamen()"),this.examenPorEliminar=e.row,this.confirm=!0},eliminarConfirmado:function(){this.$api.delete("examen/"+this.examenPorEliminar.idExamen).then((e=>{console.log("DELETE ejecutado"),this.confirm=!1,this.cargarExamenes()})).catch((e=>{console.log("ERROR borrando examen"),console.log(e)}))}}});var h=o(1639),w=o(136),v=o(4455),W=o(1971),_=o(7220),b=o(2074),C=o(4458),y=o(8326),V=o(7887),k=o(6611),q=o(2857),Z=o(2765),Q=o(2952),Y=o(6770),A=o(3190),D=o(1357),R=o(1821),S=o(2146),U=o(9984),T=o.n(U);const P=(0,h.Z)(g,[["render",f]]),H=P;T()(g,"components",{QSpace:w.Z,QBtn:v.Z,QTable:W.Z,QTd:_.Z,QDialog:b.Z,QCard:C.Z,QForm:y.Z,QSelect:V.Z,QInput:k.Z,QIcon:q.Z,QPopupProxy:Z.Z,QDate:Q.Z,QTime:Y.Z,QCardSection:A.Z,QAvatar:D.Z,QCardActions:R.Z}),T()(g,"directives",{ClosePopup:S.Z})}}]);